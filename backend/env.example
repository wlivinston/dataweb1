# Server Configuration
PORT=3001
NODE_ENV=development

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/dataweb_db
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_ANON_KEY=your-anon-key

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-here-make-it-long-and-random

# Email Configuration (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=wlivinston21@gmail.com
SMTP_PASS=your-app-password

# Frontend URL (for email links)
FRONTEND_URL=http://localhost:5173

# Admin Email (for notifications)
ADMIN_EMAIL=wlivinston21@gmail.com
SUPPORT_EMAIL=wlivinston21@gmail.com
FROM_EMAIL=noreply@dataweb.com

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_API_WINDOW_MS=900000
RATE_LIMIT_API_MAX=120
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX=30
RATE_LIMIT_COMMENTS_WINDOW_MS=600000
RATE_LIMIT_COMMENTS_WRITE_MAX=40
RATE_LIMIT_BLOG_WRITE_WINDOW_MS=600000
RATE_LIMIT_BLOG_WRITE_MAX=60
RATE_LIMIT_REPORTS_WINDOW_MS=600000
RATE_LIMIT_REPORTS_MAX=10
RATE_LIMIT_CHECKOUT_WINDOW_MS=600000
RATE_LIMIT_CHECKOUT_MAX=15
RATE_LIMIT_NEWSLETTER_WINDOW_MS=600000
RATE_LIMIT_NEWSLETTER_MAX=20
RATE_LIMIT_FINANCE_WINDOW_MS=600000
RATE_LIMIT_FINANCE_MAX=30

# Security
BCRYPT_SALT_ROUNDS=12
SESSION_SECRET=your-session-secret-key
TRUST_PROXY_HOPS=1
REQUEST_TIMEOUT_MS=20000
MAX_CONTENT_LENGTH_BYTES=1048576
BODY_LIMIT=1mb
KEEP_ALIVE_TIMEOUT_MS=10000
MAX_REQUESTS_PER_SOCKET=1000
FINANCE_JOB_MAX_ROWS=50000
JOB_STORAGE_MODE=auto
JOB_WORKER_CONCURRENCY=2
JOB_RETENTION_HOURS=24
JOB_LEASE_MS=120000
JOB_MAX_ATTEMPTS=3

# API Versioning / Legacy Cutover
# Keep true during migration; set to false to hard-disable non-v1 /api/* routes.
API_LEGACY_ENABLED=true
# Adds deprecation + sunset headers on legacy /api/* responses.
API_LEGACY_DEPRECATION_ENABLED=true
# RFC 8594 sunset date for legacy routes (ISO date or RFC date string).
API_LEGACY_SUNSET=2026-12-31T23:59:59Z
# Link target used in legacy deprecation header.
API_LEGACY_DOC_URL=/api/v1/system/openapi
# Logs legacy endpoint + origin usage telemetry.
API_LEGACY_TELEMETRY_ENABLED=true
# Flush interval for aggregated telemetry logs.
API_LEGACY_TELEMETRY_FLUSH_MS=300000
# Max number of top legacy route buckets per telemetry snapshot.
API_LEGACY_TELEMETRY_TOP_N=25

# Payment Gateways (PDF Checkout)
PDF_REPORT_SINGLE_PRICE=29
PDF_REPORT_MONTHLY_PRICE=49

STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_WEBHOOK_TOLERANCE_SECONDS=300
STRIPE_CURRENCY=usd
STRIPE_PDF_SINGLE_PRICE_ID=
STRIPE_PDF_MONTHLY_PRICE_ID=

PAYSTACK_SECRET_KEY=sk_test_xxx
# Optional: set a currency your Paystack account supports (e.g. NGN or GHS).
# Leave empty to use your Paystack account default currency.
PAYSTACK_CURRENCY=
# Optional: if PAYSTACK_CURRENCY is empty, set your Paystack account default
# currency so backend conversion can still compute the correct amount.
PAYSTACK_ACCOUNT_CURRENCY=
# Base currency for PDF list price (defaults to STRIPE_CURRENCY or USD).
PAYSTACK_BASE_CURRENCY=USD
# Auto-convert PDF list prices from PAYSTACK_BASE_CURRENCY to Paystack currency.
PAYSTACK_AUTO_CONVERT=true
PAYSTACK_PDF_SINGLE_AMOUNT=29
PAYSTACK_PDF_MONTHLY_AMOUNT=49

# Digital Ocean Configuration (for deployment)
DIGITALOCEAN_API_TOKEN=your-digitalocean-api-token
DIGITALOCEAN_REGION=nyc
