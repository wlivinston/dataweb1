{
  "name": "dataafrik-platform",
  "services": [
    {
      "name": "frontend",
      "source_dir": "/",
      "build_command": "npm install && npm run build",
      "run_command": "npm run preview",
      "environment_slug": "node-js",
      "instance_count": 1,
      "instance_size_slug": "basic-xxs",
      "envs": [
        {
          "key": "VITE_SUPABASE_URL",
          "value": "https://wjeqwwilkbpqwuffiuio.supabase.co",
          "type": "SECRET"
        },
        {
          "key": "VITE_SUPABASE_ANON_KEY",
          "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqZXF3d2lsa2JwcXd1ZmZpdWlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NjkzNDIsImV4cCI6MjA3MDU0NTM0Mn0.b2_QEsEHBGewRGOJHccE9_onobcKgfLU25IoKRdXGGo",
          "type": "SECRET"
        },
        {
          "key": "VITE_BACKEND_URL",
          "value": "https://clownfish-app-3hmi3.ondigitalocean.app"
        },
        {
          "key": "NODE_ENV",
          "value": "production"
        }
      ],
      "routes": [
        {
          "path": "/"
        }
      ],
      "health_check": {
        "http_path": "/",
        "initial_delay_seconds": 10,
        "interval_seconds": 10,
        "timeout_seconds": 5,
        "success_threshold": 1,
        "failure_threshold": 3
      }
    },
    {
      "name": "backend",
      "source_dir": "backend",
      "build_command": "npm install",
      "run_command": "npm start",
      "environment_slug": "node-js",
      "instance_count": 1,
      "instance_size_slug": "basic-xxs",
      "http_port": 3001,
      "envs": [
        {
          "key": "SUPABASE_URL",
          "value": "https://wjeqwwilkbpqwuffiuio.supabase.co",
          "type": "SECRET"
        },
        {
          "key": "SUPABASE_SERVICE_ROLE_KEY",
          "value": "sbp_ad0bd1a56fcea427de1d5c8c2ab5440741693348",
          "type": "SECRET"
        },
        {
          "key": "SUPABASE_ANON_KEY",
          "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqZXF3d2lsa2JwcXd1ZmZpdWlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ5NjkzNDIsImV4cCI6MjA3MDU0NTM0Mn0.b2_QEsEHBGewRGOJHccE9_onobcKgfLU25IoKRdXGGo",
          "type": "SECRET"
        },
        {
          "key": "FRONTEND_URL",
          "value": "https://www.dataafrik.com"
        },
        {
          "key": "ALLOWED_ORIGINS",
          "value": "https://www.dataafrik.com,https://dataafrik.com"
        },
        {
          "key": "NODE_ENV",
          "value": "production"
        },
        {
          "key": "PORT",
          "value": "3001"
        }
      ],
      "routes": [
        {
          "path": "/api"
        }
      ],
      "health_check": {
        "http_path": "/health",
        "initial_delay_seconds": 10,
        "interval_seconds": 10,
        "timeout_seconds": 5,
        "success_threshold": 1,
        "failure_threshold": 3
      }
    }
  ],
  "domains": [
    {
      "domain": "dataafrik.com",
      "type": "PRIMARY"
    },
    {
      "domain": "www.dataafrik.com",
      "type": "ALIAS"
    }
  ],
  "envs": [
    {
      "key": "NODE_ENV",
      "value": "production",
      "scope": "RUN_AND_BUILD_TIME"
    }
  ],
  "alerts": [
    {
      "rule": "DEPLOYMENT_FAILED",
      "disabled": false
    },
    {
      "rule": "DOMAIN_FAILED",
      "disabled": false
    },
    {
      "rule": "HIGH_CPU",
      "disabled": false,
      "operator": "GREATER_THAN",
      "value": 80,
      "window": "5m"
    },
    {
      "rule": "HIGH_MEMORY",
      "disabled": false,
      "operator": "GREATER_THAN",
      "value": 80,
      "window": "5m"
    }
  ]
}
